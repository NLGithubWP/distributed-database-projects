ERROR:__main__:Errored: 1 retry happened in running tx: DeliveryTxParams-update1, ErrorMsg: 
[ restart transaction: TransactionRetryWithProtoRefreshError: TransactionAbortedError(ABORT_REASON_NEW_LEASE_PREVENTS_TXN): "sql txn" meta={id=7a5da962 key=/Table/58/2/4/1/2301 pri=0.00302428 epo=0 ts=1635832165.618828127,0 min=1635832165.618828127,0 seq=160} lock=true stat=PENDING rts=1635832165.618828127,0 wto=false gul=1635832166.118828127,0
HINT:  See: https://www.cockroachlabs.com/docs/v21.1/transaction-retry-error-reference.html#abort_reason_new_lease_prevents_txn
 ], Traceback: 
[ Traceback (most recent call last):
  File "cockroachDB_driver.py", line 64, in run_tx
    res = operation(m_conn)
  File "cockroachDB_driver.py", line 188, in <lambda>
    l_conn, w_id, carrier_id, id_tuples))
  File "/home/stuproj/cs4224p/temp/tasks/txs/tx_workloadA.py", line 335, in delivery_update_transaction1
    m_conn.commit()
psycopg2.errors.SerializationFailure: restart transaction: TransactionRetryWithProtoRefreshError: TransactionAbortedError(ABORT_REASON_NEW_LEASE_PREVENTS_TXN): "sql txn" meta={id=7a5da962 key=/Table/58/2/4/1/2301 pri=0.00302428 epo=0 ts=1635832165.618828127,0 min=1635832165.618828127,0 seq=160} lock=true stat=PENDING rts=1635832165.618828127,0 wto=false gul=1635832166.118828127,0
HINT:  See: https://www.cockroachlabs.com/docs/v21.1/transaction-retry-error-reference.html#abort_reason_new_lease_prevents_txn

 ]
INFO:__main__:Running Tx DeliveryTxParams-update1 successful at the 2 time retry
INFO:__main__:============================ read file 28.txt, now total_tx_num reaches 100, write log to logs/tx_log_28.txt =====================
INFO:__main__:============================ read file 28.txt, now total_tx_num reaches 200, write log to logs/tx_log_28.txt =====================
INFO:__main__:============================ read file 28.txt, now total_tx_num reaches 300, write log to logs/tx_log_28.txt =====================
INFO:__main__:============================ read file 28.txt, now total_tx_num reaches 400, write log to logs/tx_log_28.txt =====================
INFO:__main__:============================ read file 28.txt, now total_tx_num reaches 500, write log to logs/tx_log_28.txt =====================
INFO:__main__:============================ using file /home/stuproj/cs4224p/temp/tasks/project_files_4/xact_files_A/28.txt=====================
INFO:__main__:connect to postgresql://naili:@xcnd58:27257/cs5424db, Read file /home/stuproj/cs4224p/temp/tasks/project_files_4/xact_files_A/28.txt and run workload A
INFO:__main__:=======> required_tx_types is: 
INFO:__main__:{'NewOrderTxParams': 202, 'TopBalanceTxParams': 36, 'OrderStatusTxParams': 19, 'PaymentTxParams': 105, 'DeliveryTxParams': 95, 'PopItemTxParams': 18, 'StockLevelTxParams': 26, 'RelCustomerTxParams': 10}
INFO:__main__:=======> succeed_tx_types is: 
INFO:__main__:{'NewOrderTxParams': 202, 'TopBalanceTxParams': 36, 'OrderStatusTxParams': 19, 'PaymentTxParams': 105, 'DeliveryTxParams': 95, 'PopItemTxParams': 18, 'StockLevelTxParams': 26, 'RelCustomerTxParams': 10}
INFO:__main__:=======> tx num percentages is: 
INFO:__main__:{'NewOrderTxParams': '39.53%', 'TopBalanceTxParams': '7.045%', 'OrderStatusTxParams': '3.718%', 'PaymentTxParams': '20.54%', 'DeliveryTxParams': '18.59%', 'PopItemTxParams': '3.522%', 'StockLevelTxParams': '5.088%', 'RelCustomerTxParams': '1.956%'}
INFO:__main__:=======> tx_time_range [min-max] is : 
INFO:__main__:{'NewOrderTxParams': [0.03431105613708496, 6.0638604164123535], 'TopBalanceTxParams': [0.002226114273071289, 0.018854379653930664], 'OrderStatusTxParams': [0.010596513748168945, 0.252713680267334], 'PaymentTxParams': [0.00779271125793457, 10.37715196609497], 'DeliveryTxParams': [0.07637286186218262, 16.01761221885681], 'PopItemTxParams': [0.07430219650268555, 1.8571786880493164], 'StockLevelTxParams': [0.02963113784790039, 1.6879618167877197], 'RelCustomerTxParams': [5.034100294113159, 30.00052833557129]}
INFO:__main__:=======> tx_time middle time is : 
INFO:__main__:{'NewOrderTxParams': 0.20659232139587402, 'TopBalanceTxParams': 0.0027892589569091797, 'OrderStatusTxParams': 0.033829689025878906, 'PaymentTxParams': 0.01964282989501953, 'DeliveryTxParams': 0.26036643981933594, 'PopItemTxParams': 0.3901846408843994, 'StockLevelTxParams': 0.15201401710510254, 'RelCustomerTxParams': 13.554612874984741}
INFO:__main__:=======> tx_time average time is : 
INFO:__main__:{'NewOrderTxParams': 0.8613858659668724, 'TopBalanceTxParams': 0.00417050388124254, 'OrderStatusTxParams': 0.07181497624045924, 'PaymentTxParams': 0.2114335060119629, 'DeliveryTxParams': 0.4603363539043226, 'PopItemTxParams': 0.4594741662343343, 'StockLevelTxParams': 0.20557010173797607, 'RelCustomerTxParams': 14.84990427494049}
INFO:__main__:=======> tx time percentage is : 
INFO:__main__:{'NewOrderTxParams': '43.05%', 'TopBalanceTxParams': '0.037%', 'OrderStatusTxParams': '0.337%', 'PaymentTxParams': '5.493%', 'DeliveryTxParams': '10.82%', 'PopItemTxParams': '2.046%', 'StockLevelTxParams': '1.322%', 'RelCustomerTxParams': '36.74%'}
INFO:__main__:============> full tx time used 
INFO:__main__:{'NewOrderTxParams': [0.03431105613708496, 0.03462553024291992, 0.035755157470703125, 0.04018545150756836, 0.0444788932800293, 0.04537367820739746, 0.045911312103271484, 0.05004072189331055, 0.05246281623840332, 0.053711652755737305, 0.05572080612182617, 0.05663251876831055, 0.0589756965637207, 0.05909252166748047, 0.05909299850463867, 0.05943942070007324, 0.06257772445678711, 0.0637972354888916, 0.06413125991821289, 0.06769013404846191, 0.06796598434448242, 0.07220101356506348, 0.07354593276977539, 0.07494759559631348, 0.07612180709838867, 0.0765066146850586, 0.07936501502990723, 0.08006143569946289, 0.08115959167480469, 0.0812838077545166, 0.08259415626525879, 0.08295202255249023, 0.0835108757019043, 0.08530259132385254, 0.08628702163696289, 0.08831429481506348, 0.08881664276123047, 0.08975791931152344, 0.09216523170471191, 0.09250307083129883, 0.09297990798950195, 0.09502053260803223, 0.09736514091491699, 0.09994339942932129, 0.09999251365661621, 0.10328054428100586, 0.10335540771484375, 0.10632777214050293, 0.1067209243774414, 0.1077578067779541, 0.10923504829406738, 0.11359858512878418, 0.11366820335388184, 0.11721515655517578, 0.11744523048400879, 0.1196441650390625, 0.12034440040588379, 0.1212618350982666, 0.1227576732635498, 0.1258251667022705, 0.127105712890625, 0.1272280216217041, 0.12737274169921875, 0.12805485725402832, 0.1282517910003662, 0.12836813926696777, 0.12916851043701172, 0.1336374282836914, 0.1360018253326416, 0.14416241645812988, 0.14600062370300293, 0.1461048126220703, 0.14676785469055176, 0.14896297454833984, 0.14978384971618652, 0.15085482597351074, 0.1521167755126953, 0.15212273597717285, 0.15217924118041992, 0.15448999404907227, 0.15697169303894043, 0.15792036056518555, 0.1606295108795166, 0.1610102653503418, 0.16144919395446777, 0.16360020637512207, 0.16469955444335938, 0.1722869873046875, 0.17254114151000977, 0.17286086082458496, 0.1733720302581787, 0.17485547065734863, 0.1757030487060547, 0.1798105239868164, 0.18022680282592773, 0.18152284622192383, 0.1920304298400879, 0.19457149505615234, 0.1955122947692871, 0.19876980781555176, 0.20093822479248047, 0.20659232139587402, 0.20760893821716309, 0.2077338695526123, 0.21687841415405273, 0.22230005264282227, 0.22899746894836426, 0.23546385765075684, 0.2534308433532715, 0.25894784927368164, 0.30567431449890137, 0.31018614768981934, 0.3599057197570801, 0.3919978141784668, 0.39379382133483887, 0.40649938583374023, 0.43941187858581543, 0.4621729850769043, 0.49491333961486816, 0.50010085105896, 0.5134105682373047, 0.5946857929229736, 0.6054704189300537, 0.6098716259002686, 0.6958377361297607, 0.7079687118530273, 0.7240097522735596, 0.7399287223815918, 0.7792491912841797, 0.8116436004638672, 0.8173694610595703, 0.8178427219390869, 0.8647699356079102, 0.8676822185516357, 0.9091911315917969, 0.9180135726928711, 0.9321424961090088, 0.9398252964019775, 0.9470505714416504, 0.95005202293396, 0.9888136386871338, 1.043757438659668, 1.0592873096466064, 1.1702663898468018, 1.2093784809112549, 1.231963872909546, 1.236063003540039, 1.240417718887329, 1.2495450973510742, 1.2525601387023926, 1.3289878368377686, 1.3541934490203857, 1.3620984554290771, 1.3761241436004639, 1.3828701972961426, 1.398292064666748, 1.413862943649292, 1.4340567588806152, 1.5210380554199219, 1.5239574909210205, 1.5519235134124756, 1.5810463428497314, 1.6065595149993896, 1.6087443828582764, 1.6363050937652588, 1.6397204399108887, 1.6467375755310059, 1.697538137435913, 1.7042689323425293, 1.7180073261260986, 1.7376039028167725, 1.7534849643707275, 1.7990849018096924, 1.8075599670410156, 1.8342947959899902, 1.8621702194213867, 1.9440686702728271, 2.0011677742004395, 2.0403478145599365, 2.0474488735198975, 2.0666825771331787, 2.2358338832855225, 2.277583122253418, 2.4949615001678467, 2.6247942447662354, 2.717010259628296, 2.8386926651000977, 2.9167940616607666, 3.1563050746917725, 3.3162951469421387, 3.55690860748291, 3.6488490104675293, 3.7724733352661133, 3.865905523300171, 3.9416184425354004, 4.159906625747681, 4.164704084396362, 4.43515944480896, 4.436421871185303, 5.361470699310303, 5.730344772338867, 6.0638604164123535], 'TopBalanceTxParams': [0.002226114273071289, 0.0022437572479248047, 0.002328157424926758, 0.0023374557495117188, 0.0023467540740966797, 0.0023679733276367188, 0.0023899078369140625, 0.002424001693725586, 0.0024590492248535156, 0.002459287643432617, 0.002461671829223633, 0.002526521682739258, 0.0025734901428222656, 0.0026268959045410156, 0.0026328563690185547, 0.0026674270629882812, 0.0026874542236328125, 0.002753734588623047, 0.0027892589569091797, 0.0029261112213134766, 0.002985239028930664, 0.0029952526092529297, 0.0030214786529541016, 0.003249645233154297, 0.003307342529296875, 0.003339529037475586, 0.0035638809204101562, 0.0037970542907714844, 0.003942728042602539, 0.0042078495025634766, 0.005139350891113281, 0.0076749324798583984, 0.009880542755126953, 0.011960029602050781, 0.011991024017333984, 0.018854379653930664], 'OrderStatusTxParams': [0.010596513748168945, 0.011675596237182617, 0.014735937118530273, 0.015017032623291016, 0.018324613571166992, 0.020137786865234375, 0.0243074893951416, 0.028908967971801758, 0.03310394287109375, 0.033829689025878906, 0.04286837577819824, 0.04524588584899902, 0.04651522636413574, 0.06093192100524902, 0.06418490409851074, 0.20242953300476074, 0.2156825065612793, 0.22327494621276855, 0.252713680267334], 'PaymentTxParams': [0.00779271125793457, 0.008473873138427734, 0.008727550506591797, 0.008731842041015625, 0.008741378784179688, 0.008751869201660156, 0.008762359619140625, 0.008862733840942383, 0.008896112442016602, 0.00892949104309082, 0.008977651596069336, 0.009396553039550781, 0.009434700012207031, 0.009435176849365234, 0.009743213653564453, 0.009980916976928711, 0.010010957717895508, 0.010015010833740234, 0.010091304779052734, 0.010161638259887695, 0.010223627090454102, 0.010365009307861328, 0.01044607162475586, 0.010553121566772461, 0.011135101318359375, 0.011136054992675781, 0.011204719543457031, 0.011257171630859375, 0.011577844619750977, 0.01204228401184082, 0.012567758560180664, 0.012985706329345703, 0.013065099716186523, 0.013079166412353516, 0.013576030731201172, 0.013953924179077148, 0.014194965362548828, 0.014320135116577148, 0.01442098617553711, 0.014531135559082031, 0.014745473861694336, 0.015140771865844727, 0.015270471572875977, 0.015478372573852539, 0.016670942306518555, 0.01722407341003418, 0.017348527908325195, 0.017662525177001953, 0.018489360809326172, 0.019174575805664062, 0.019213438034057617, 0.019296646118164062, 0.01964282989501953, 0.0196993350982666, 0.019766807556152344, 0.019823074340820312, 0.020064830780029297, 0.020194292068481445, 0.020503759384155273, 0.020862579345703125, 0.02094554901123047, 0.020956754684448242, 0.022049427032470703, 0.022507667541503906, 0.023500680923461914, 0.023858070373535156, 0.024155139923095703, 0.025101184844970703, 0.025470495223999023, 0.02568960189819336, 0.027139902114868164, 0.027539491653442383, 0.0284121036529541, 0.029057741165161133, 0.030359268188476562, 0.031102657318115234, 0.033651113510131836, 0.03515219688415527, 0.03702545166015625, 0.0377199649810791, 0.039186716079711914, 0.04348158836364746, 0.04400634765625, 0.04621601104736328, 0.04843592643737793, 0.04888176918029785, 0.04976844787597656, 0.05071902275085449, 0.05074572563171387, 0.05184316635131836, 0.05379891395568848, 0.06259417533874512, 0.06677007675170898, 0.0846712589263916, 0.09035181999206543, 0.10141420364379883, 0.14278960227966309, 0.2762460708618164, 0.29543590545654297, 0.33450794219970703, 0.507673978805542, 0.832073450088501, 1.7535526752471924, 5.399981260299683, 10.37715196609497], 'DeliveryTxParams': [0.07637286186218262, 0.08264780044555664, 0.08437895774841309, 0.08553481101989746, 0.08873391151428223, 0.09413981437683105, 0.09559869766235352, 0.09563755989074707, 0.10189223289489746, 0.10473012924194336, 0.10791230201721191, 0.10799980163574219, 0.11014151573181152, 0.11022043228149414, 0.11152410507202148, 0.1124417781829834, 0.11257433891296387, 0.11480379104614258, 0.11568641662597656, 0.12112021446228027, 0.12297248840332031, 0.12478494644165039, 0.12504959106445312, 0.12740087509155273, 0.1288909912109375, 0.1338651180267334, 0.13938498497009277, 0.14129996299743652, 0.14211821556091309, 0.14791107177734375, 0.1480388641357422, 0.15185904502868652, 0.15643882751464844, 0.16068291664123535, 0.1624765396118164, 0.17671513557434082, 0.17837738990783691, 0.17902636528015137, 0.20088529586791992, 0.20586585998535156, 0.22350382804870605, 0.2281937599182129, 0.2283918857574463, 0.22902131080627441, 0.23114371299743652, 0.24906373023986816, 0.2556765079498291, 0.26036643981933594, 0.2696409225463867, 0.28301405906677246, 0.29813528060913086, 0.31223034858703613, 0.3223450183868408, 0.32392382621765137, 0.3271796703338623, 0.3319242000579834, 0.3322780132293701, 0.3371915817260742, 0.3406846523284912, 0.3445549011230469, 0.35097622871398926, 0.3536396026611328, 0.3587517738342285, 0.3594381809234619, 0.3619053363800049, 0.376079797744751, 0.3979671001434326, 0.4008216857910156, 0.4014625549316406, 0.4059715270996094, 0.40815305709838867, 0.4195389747619629, 0.4250528812408447, 0.43573737144470215, 0.4434635639190674, 0.4447946548461914, 0.44827866554260254, 0.4547090530395508, 0.46025967597961426, 0.4732484817504883, 0.47632670402526855, 0.4903411865234375, 0.49834108352661133, 0.520453929901123, 0.530242919921875, 0.5780575275421143, 0.5846757888793945, 0.5945732593536377, 0.6007671356201172, 0.6548867225646973, 0.6746742725372314, 0.710212230682373, 0.7946257591247559, 1.0093131065368652, 16.01761221885681], 'PopItemTxParams': [0.07430219650268555, 0.12182211875915527, 0.15135931968688965, 0.1663990020751953, 0.22281455993652344, 0.22709012031555176, 0.2506124973297119, 0.37387704849243164, 0.38767027854919434, 0.3901846408843994, 0.39334940910339355, 0.48459649085998535, 0.5297133922576904, 0.5889511108398438, 0.6188428401947021, 0.7117462158203125, 0.7200250625610352, 1.8571786880493164], 'StockLevelTxParams': [0.02963113784790039, 0.03613448143005371, 0.042797088623046875, 0.043245792388916016, 0.04591536521911621, 0.04978203773498535, 0.06207156181335449, 0.08319735527038574, 0.08357882499694824, 0.09460210800170898, 0.10510826110839844, 0.11136150360107422, 0.12387251853942871, 0.15201401710510254, 0.155289888381958, 0.16927266120910645, 0.1724989414215088, 0.18384838104248047, 0.19798564910888672, 0.20397114753723145, 0.21666932106018066, 0.23657441139221191, 0.32318735122680664, 0.3333547115325928, 0.4008963108062744, 1.6879618167877197], 'RelCustomerTxParams': [5.034100294113159, 5.110068321228027, 5.7669689655303955, 8.67378544807434, 12.707404136657715, 13.554612874984741, 13.697772979736328, 24.65800142288208, 29.29579997062683, 30.00052833557129]}
INFO:__main__:============================ total time used: 404.09726643562317 second =====================
